<!DOCRTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<title>Test Page</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	</head>
	<body>
		<div class="container">
			<!-- The h1 "testData" changes based on the "text" field in the database -->
			<h1 id = "testData"></h1>
			<h2>Carer Account Creation</h2>
			
			<div class="page-header">
			
			</div>
			<div class="jumbotron">

				
				<!--The button calls the "update" function. The names in the form are uploaded to the database. -->
				<form class="form1">
				  Name: <input type="text" id="name"><br>
				  Phone Number: <input type="number" id="phone"><br>
				  Email:	<input type="email" id="email"><br>
				  Password: <input type="password" id="password"><br>
				  Geotagging: <input type="radio" name="test" id="geo" value="yes"> Yes 
				  <input type="radio" name="test" id="geo" value="no"> No<br> 
				  <br>
				  <button id="formButton" class="btn btn-default" onclick="update()">Submit</button>
				</form>
				
			</div>
		</div>
		<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
		<script>
			var dataRef = new Firebase('https://rd-year-group-project.firebaseio.com');
			
			// Save data to firebase
			function update(){
			var name = document.getElementById("name").value;
            var email = document.getElementById("email").value;
			var phone = document.getElementById("phone").value;
            var password = document.getElementById("password").value;
			var geo = document.getElementById("geo").value;
			var username = 'users/' + name + phone;  

			dataRef.child(username).set({
                    email: email,
                    password: password,
					name: name,
					phone: phone,
					geo: geo
                });
}
		</script>
		<!--
		The following code is not implemented yet but will be helpful for logging in
		// For user authentication
		function authHandler(error, authData) {
		if (error) {
		console.log('Login Failed!', error);
		} else {
		}
		}

		// Log the user in with an email combination
		dataRef.authWithPassword({
			email    : 'mail@mail.com',
			password : 'pass'
			}, authHandler);

		dataRef.onAuth(function(authData) {
		userId = authData.uid;
		});
		-->
		
	</body>
</html>